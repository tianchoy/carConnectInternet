{"version":3,"file":"amap.js","sources":["components/amap/amap.uvue","/Users/xyhc/Documents/carConnectInternet/components/amap/amap.uvue?type=component"],"sourcesContent":["\n<template>\n  <!-- 通用地图容器 -->\n  <view>\n    <!-- H5/APP端使用div容器 -->\n\n\n\n    \n    <!-- 小程序端使用原生map组件 -->\n\n    <map \n      id=\"myMap\"\n      :latitude=\"latitude\"\n      :longitude=\"longitude\"\n      :markers=\"markers\"\n      :polyline=\"polyline\"\n      class=\"map-box\"\n\t  :scale=\"5\"\n      @tap=\"handleMapTap\">\n    </map>\n\n    \n    <!-- 位置信息展示 -->\n    <view class=\"info-box\">\n      <text>当前位置：{{address}}</text>\n      <uv-button @click=\"getLocation\" type=\"primary\" text=\"获取定位\"></uv-button>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref } from 'vue'\n// 小程序端SDK引入\n\nlet amapFile = require('../../static/libs/amap-wx.130.js')\nlet myAmapFun = null\n\n\n// 响应式数据\nconst latitude = ref(39.904989)\nconst longitude = ref(116.405285)\nconst address = ref('北京市')\nconst markers = ref([])\nconst polyline = ref([])\n\n// 初始化地图\nonMounted(() => {\n\n\n\n  \n\n  myAmapFun = new amapFile.AMapWX({\n    key: 'e3e773ad74f7ba25f38775c9c8db6474'\n  })\n\n})\n\n// H5/APP端初始化\nconst initWebMap = async () => {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n}\n\n// 获取定位\nconst getLocation = () => {\n\n\n\n\n\n\n\n\n  \n\n  myAmapFun.getRegeo({\n    success: (data) => {\n      updatePosition(data[0].latitude, data[0].longitude)\n      address.value = data[0].name\n    }\n  })\n\n}\n\n// 更新位置信息\nconst updatePosition = (lat, lng) => {\n  latitude.value = lat\n  longitude.value = lng\n  markers.value = [{\n    id: 1,\n    latitude: lat,\n    longitude: lng,\n    iconPath: '/static/location.png'\n  }]\n}\n</script>\n\n<style>\n.map-box {\n  width: 100%;\n  height: 500rpx;\n}\n.info-box {\n  padding: 15px;\n}\n</style>\n","import Component from '/Users/xyhc/Documents/carConnectInternet/components/amap/amap.uvue'\nwx.createComponent(Component)"],"names":["ref","onMounted","Component"],"mappings":";;;;;;;;;;;;;AAmCA,QAAI,WAAW,QAAQ,kCAAkC;AACzD,QAAI,YAAY;AAIhB,UAAM,WAAWA,kBAAI,SAAS;AAC9B,UAAM,YAAYA,kBAAI,UAAU;AAChC,UAAM,UAAUA,kBAAI,KAAK;AACzB,UAAM,UAAUA,kBAAI,CAAA,CAAE;AACtB,UAAM,WAAWA,kBAAI,CAAA,CAAE;AAGvBC,kBAAAA,UAAU,MAAA;AAMR,kBAAY,IAAI,SAAS,OAAO,IAAA,cAAA;AAAA,QAC9B,KAAK;AAAA,MACN,CAAA,CAAA;AAAA,IAEH,CAAC;AAqBD,UAAM,cAAc,MAAA;AAWlB,gBAAU,SAAS,IAAA,cAAA;AAAA,QACjB,SAAS,CAAC,OAAI,SAAA;AACZ,yBAAe,KAAK,CAAC,EAAE,UAAU,KAAK,CAAC,EAAE,SAAS;AAClD,kBAAQ,QAAQ,KAAK,CAAC,EAAE;AAAA,QAC1B;AAAA,MACD,CAAA,CAAA;AAAA,IAEH;AAGA,UAAM,iBAAiB,CAAC,MAAG,MAAE,MAAG,SAAA;AAC9B,eAAS,QAAQ;AACjB,gBAAU,QAAQ;AAClB,cAAQ,QAAQ,CAAC;AAAA,QACf,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,WAAW;AAAA,QACX,UAAU;AAAA,MACX,CAAA;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;AC3GA,GAAG,gBAAgBC,SAAS;"}