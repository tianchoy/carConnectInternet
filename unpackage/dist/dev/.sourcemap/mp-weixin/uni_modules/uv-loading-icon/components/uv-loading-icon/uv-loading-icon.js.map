{"version":3,"file":"uv-loading-icon.js","sources":["uni_modules/uv-loading-icon/components/uv-loading-icon/uv-loading-icon.vue","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-loading-icon/components/uv-loading-icon/uv-loading-icon.vue?type=component"],"sourcesContent":["<template>\r\n\t<view\r\n\t\tclass=\"uv-loading-icon\"\r\n\t\t:style=\"[$uv.addStyle(customStyle)]\"\r\n\t\t:class=\"[vertical && 'uv-loading-icon--vertical']\"\r\n\t\tv-if=\"show\"\r\n\t>\r\n\t\t<view\r\n\t\t\tv-if=\"!webviewHide\"\r\n\t\t\tclass=\"uv-loading-icon__spinner\"\r\n\t\t\t:class=\"[`uv-loading-icon__spinner--${mode}`]\"\r\n\t\t\tref=\"ani\"\r\n\t\t\t:style=\"{\r\n\t\t\t\tcolor: color,\r\n\t\t\t\twidth: $uv.addUnit(size),\r\n\t\t\t\theight: $uv.addUnit(size),\r\n\t\t\t\tborderTopColor: color,\r\n\t\t\t\tborderBottomColor: otherBorderColor,\r\n\t\t\t\tborderLeftColor: otherBorderColor,\r\n\t\t\t\tborderRightColor: otherBorderColor,\r\n\t\t\t\t'animation-duration': `${duration}ms`,\r\n\t\t\t\t'animation-timing-function': mode === 'semicircle' || mode === 'circle' ? timingFunction : ''\r\n\t\t\t}\"\r\n\t\t>\r\n\t\t\t<template v-if=\"mode === 'spinner'\">\r\n\r\n\t\t\t\t<view\r\n\t\t\t\t\tv-for=\"(item, index) in array12\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"uv-loading-icon__dot\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t\t<text\r\n\t\t\tv-if=\"text\"\r\n\t\t\tclass=\"uv-loading-icon__text\"\r\n\t\t\t:style=\"[{\r\n\t\t\t\tfontSize: $uv.addUnit(textSize),\r\n\t\t\t\tcolor: textColor,\r\n\t\t\t},$uv.addStyle(textStyle)]\"\r\n\t\t>{{text}}</text>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n\timport { colorGradient } from '@/uni_modules/uv-ui-tools/libs/function/colorGradient.js'\r\n\timport mpMixin from '@/uni_modules/uv-ui-tools/libs/mixin/mpMixin.js'\r\n\timport mixin from '@/uni_modules/uv-ui-tools/libs/mixin/mixin.js'\r\n\timport props from './props.js';\r\n\r\n\r\n\r\n\t/**\r\n\t * loading 加载动画\r\n\t * @description 警此组件为一个小动画，目前用在uvui的loadmore加载更多和switch开关等组件的正在加载状态场景。\r\n\t * @tutorial https://www.uvui.cn/components/loading.html\r\n\t * @property {Boolean}\t\t\tshow\t\t\t是否显示组件  (默认 true)\r\n\t * @property {String}\t\t\tcolor\t\t\t动画活动区域的颜色，只对 mode = flower 模式有效（默认#909193）\r\n\t * @property {String}\t\t\ttextColor\t\t提示文本的颜色（默认#909193）\r\n\t * @property {Boolean}\t\t\tvertical\t\t文字和图标是否垂直排列 (默认 false )\r\n\t * @property {String}\t\t\tmode\t\t\t模式选择，见官网说明（默认 'circle' ）\r\n\t * @property {String | Number}\tsize\t\t\t加载图标的大小，单位px （默认 24 ）\r\n\t * @property {String | Number}\ttextSize\t\t文字大小（默认 15 ）\r\n\t * @property {String | Number}\ttext\t\t\t文字内容 \r\n\t * @property {Object}\ttextStyle 文字样式\r\n\t * @property {String}\t\t\ttimingFunction\t动画模式 （默认 'ease-in-out' ）\r\n\t * @property {String | Number}\tduration\t\t动画执行周期时间（默认 1200）\r\n\t * @property {String}\t\t\tinactiveColor\tmode=circle时的暗边颜色 \r\n\t * @property {Object}\t\t\tcustomStyle\t\t定义需要用到的外部样式\r\n\t * @example <uv-loading mode=\"circle\"></uv-loading>\r\n\t */\r\n\texport default {\r\n\t\tname: 'uv-loading-icon',\r\n\t\tmixins: [mpMixin, mixin, props],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// Array.form可以通过一个伪数组对象创建指定长度的数组\r\n\t\t\t\t// https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from\r\n\t\t\t\tarray12: Array.from({\r\n\t\t\t\t\tlength: 12\r\n\t\t\t\t}),\r\n\t\t\t\t// 这里需要设置默认值为360，否则在安卓nvue上，会延迟一个duration周期后才执行\r\n\t\t\t\t// 在iOS nvue上，则会一开始默认执行两个周期的动画\r\n\t\t\t\taniAngel: 360, // 动画旋转角度\r\n\t\t\t\twebviewHide: false, // 监听webview的状态，如果隐藏了页面，则停止动画，以免性能消耗\r\n\t\t\t\tloading: false, // 是否运行中，针对nvue使用\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 当为circle类型时，给其另外三边设置一个更轻一些的颜色\r\n\t\t\t// 之所以需要这么做的原因是，比如父组件传了color为红色，那么需要另外的三个边为浅红色\r\n\t\t\t// 而不能是固定的某一个其他颜色(因为这个固定的颜色可能浅蓝，导致效果没有那么细腻良好)\r\n\t\t\totherBorderColor() {\r\n\t\t\t\tconst lightColor = colorGradient(this.color, '#ffffff', 100)[80]\r\n\t\t\t\tif (this.mode === 'circle') {\r\n\t\t\t\t\treturn this.inactiveColor ? this.inactiveColor : lightColor\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'transparent'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tshow(n) {\r\n\t\t\t\t// nvue中，show为true，且为非loading状态，就重新执行动画模块\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\tsetTimeout(() => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t}, 20)\r\n\t\t\t},\r\n\t\t\t// 监听webview的显示与隐藏\r\n\t\t\taddEventListenerToWebview() {\r\n\t\t\t\t// webview的堆栈\r\n\t\t\t\tconst pages = getCurrentPages()\r\n\t\t\t\t// 当前页面\r\n\t\t\t\tconst page = pages[pages.length - 1]\r\n\t\t\t\t// 当前页面的webview实例\r\n\t\t\t\tconst currentWebview = page.$getAppWebview()\r\n\t\t\t\t// 监听webview的显示与隐藏，从而停止或者开始动画(为了性能)\r\n\t\t\t\tcurrentWebview.addEventListener('hide', () => {\r\n\t\t\t\t\tthis.webviewHide = true\r\n\t\t\t\t})\r\n\t\t\t\tcurrentWebview.addEventListener('show', () => {\r\n\t\t\t\t\tthis.webviewHide = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '@/uni_modules/uv-ui-tools/libs/css/components.scss';\r\n\t@import '@/uni_modules/uv-ui-tools/libs/css/color.scss';\r\n\t$uv-loading-icon-color: #c8c9cc !default;\r\n\t$uv-loading-icon-text-margin-left:4px !default;\r\n\t$uv-loading-icon-text-color:$uv-content-color !default;\r\n\t$uv-loading-icon-text-font-size:14px !default;\r\n\t$uv-loading-icon-text-line-height:20px !default;\r\n\t$uv-loading-width:30px !default;\r\n\t$uv-loading-height:30px !default;\r\n\t$uv-loading-max-width:100% !default;\r\n\t$uv-loading-max-height:100% !default;\r\n\t$uv-loading-semicircle-border-width: 2px !default;\r\n\t$uv-loading-semicircle-border-color:transparent !default;\r\n\t$uv-loading-semicircle-border-top-right-radius: 100px !default;\r\n\t$uv-loading-semicircle-border-top-left-radius: 100px !default;\r\n\t$uv-loading-semicircle-border-bottom-left-radius: 100px !default;\r\n\t$uv-loading-semicircle-border-bottom-right-radiu: 100px !default;\r\n\t$uv-loading-semicircle-border-style: solid !default;\r\n\t$uv-loading-circle-border-top-right-radius: 100px !default;\r\n\t$uv-loading-circle-border-top-left-radius: 100px !default;\r\n\t$uv-loading-circle-border-bottom-left-radius: 100px !default;\r\n\t$uv-loading-circle-border-bottom-right-radiu: 100px !default;\r\n\t$uv-loading-circle-border-width:2px !default;\r\n\t$uv-loading-circle-border-top-color:#e5e5e5 !default;\r\n\t$uv-loading-circle-border-right-color:$uv-loading-circle-border-top-color !default;\r\n\t$uv-loading-circle-border-bottom-color:$uv-loading-circle-border-top-color !default;\r\n\t$uv-loading-circle-border-left-color:$uv-loading-circle-border-top-color !default;\r\n\t$uv-loading-circle-border-style:solid !default;\r\n\t$uv-loading-icon-host-font-size:0px !default;\r\n\t$uv-loading-icon-host-line-height:1 !default;\r\n\t$uv-loading-icon-vertical-margin:6px 0 0 !default;\r\n\t$uv-loading-icon-dot-top:0 !default;\r\n\t$uv-loading-icon-dot-left:0 !default;\r\n\t$uv-loading-icon-dot-width:100% !default;\r\n\t$uv-loading-icon-dot-height:100% !default;\r\n\t$uv-loading-icon-dot-before-width:2px !default;\r\n\t$uv-loading-icon-dot-before-height:25% !default;\r\n\t$uv-loading-icon-dot-before-margin:0 auto !default;\r\n\t$uv-loading-icon-dot-before-background-color:currentColor !default;\r\n\t$uv-loading-icon-dot-before-border-radius:40% !default;\r\n\r\n\t.uv-loading-icon {\r\n\r\n\t\t// display: inline-flex;\r\n\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcolor: $uv-loading-icon-color;\r\n\r\n\t\t&__text {\r\n\t\t\tmargin-left: $uv-loading-icon-text-margin-left;\r\n\t\t\tcolor: $uv-loading-icon-text-color;\r\n\t\t\tfont-size: $uv-loading-icon-text-font-size;\r\n\t\t\tline-height: $uv-loading-icon-text-line-height;\r\n\t\t}\r\n\r\n\t\t&__spinner {\r\n\t\t\twidth: $uv-loading-width;\r\n\t\t\theight: $uv-loading-height;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmax-width: $uv-loading-max-width;\r\n\t\t\tmax-height: $uv-loading-max-height;\r\n\t\t\tanimation: uv-rotate 1s linear infinite;\r\n\r\n\t\t}\r\n\r\n\t\t&__spinner--semicircle {\r\n\t\t\tborder-width: $uv-loading-semicircle-border-width;\r\n\t\t\tborder-color: $uv-loading-semicircle-border-color;\r\n\t\t\tborder-top-right-radius: $uv-loading-semicircle-border-top-right-radius;\r\n\t\t\tborder-top-left-radius: $uv-loading-semicircle-border-top-left-radius;\r\n\t\t\tborder-bottom-left-radius: $uv-loading-semicircle-border-bottom-left-radius;\r\n\t\t\tborder-bottom-right-radius: $uv-loading-semicircle-border-bottom-right-radiu;\r\n\t\t\tborder-style: $uv-loading-semicircle-border-style;\r\n\t\t}\r\n\r\n\t\t&__spinner--circle {\r\n\t\t\tborder-top-right-radius: $uv-loading-circle-border-top-right-radius;\r\n\t\t\tborder-top-left-radius: $uv-loading-circle-border-top-left-radius;\r\n\t\t\tborder-bottom-left-radius: $uv-loading-circle-border-bottom-left-radius;\r\n\t\t\tborder-bottom-right-radius: $uv-loading-circle-border-bottom-right-radiu;\r\n\t\t\tborder-width: $uv-loading-circle-border-width;\r\n\t\t\tborder-top-color: $uv-loading-circle-border-top-color;\r\n\t\t\tborder-right-color: $uv-loading-circle-border-right-color;\r\n\t\t\tborder-bottom-color: $uv-loading-circle-border-bottom-color;\r\n\t\t\tborder-left-color: $uv-loading-circle-border-left-color;\r\n\t\t\tborder-style: $uv-loading-circle-border-style;\r\n\t\t}\r\n\r\n\t\t&--vertical {\r\n\t\t\tflex-direction: column\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t:host {\r\n\t\tfont-size: $uv-loading-icon-host-font-size;\r\n\t\tline-height: $uv-loading-icon-host-line-height;\r\n\t}\r\n\r\n\t.uv-loading-icon {\r\n\t\t&__spinner--spinner {\r\n\t\t\tanimation-timing-function: steps(12)\r\n\t\t}\r\n\r\n\t\t&__text:empty {\r\n\t\t\tdisplay: none\r\n\t\t}\r\n\r\n\t\t&--vertical &__text {\r\n\t\t\tmargin: $uv-loading-icon-vertical-margin;\r\n\t\t\tcolor: $uv-content-color;\r\n\t\t}\r\n\r\n\t\t&__dot {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: $uv-loading-icon-dot-top;\r\n\t\t\tleft: $uv-loading-icon-dot-left;\r\n\t\t\twidth: $uv-loading-icon-dot-width;\r\n\t\t\theight: $uv-loading-icon-dot-height;\r\n\r\n\t\t\t&:before {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: $uv-loading-icon-dot-before-width;\r\n\t\t\t\theight: $uv-loading-icon-dot-before-height;\r\n\t\t\t\tmargin: $uv-loading-icon-dot-before-margin;\r\n\t\t\t\tbackground-color: $uv-loading-icon-dot-before-background-color;\r\n\t\t\t\tborder-radius: $uv-loading-icon-dot-before-border-radius;\r\n\t\t\t\tcontent: \" \"\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@for $i from 1 through 12 {\r\n\t\t.uv-loading-icon__dot:nth-of-type(#{$i}) {\r\n\t\t\ttransform: rotate($i * 30deg);\r\n\t\t\topacity: 1 - 0.0625 * ($i - 1);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes uv-rotate {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg)\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\ttransform: rotate(1turn)\r\n\t\t}\r\n\t}\r\n\r\n\r\n</style>\r\n","import Component from '/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-loading-icon/components/uv-loading-icon/uv-loading-icon.vue'\nwx.createComponent(Component)"],"names":["defineComponent","mpMixin","mixin","props","colorGradient"],"mappings":";;;;;;AAsFC,MAAA,YAAeA,8BAAA;AAAA,EACd,MAAM;AAAA,EACN,QAAQ,CAACC,yCAAAA,SAASC,uCAAK,OAAEC,8DAAK;AAAA,EAC9B,OAAI;AACH,WAAO;AAAA;AAAA;AAAA,MAGN,SAAS,MAAM,KAAK;AAAA,QACnB,QAAQ;AAAA,OACR;AAAA;AAAA;AAAA,MAGD,UAAU;AAAA,MACV,aAAa;AAAA,MACb,SAAS;AAAA;AAAA;EAEV;AAAA,EACD,UAAU;AAAA;AAAA;AAAA;AAAA,IAIT,mBAAgB;AACf,YAAM,aAAaC,kDAAa,cAAC,KAAK,OAAO,WAAW,GAAG,EAAE,EAAE;AAC/D,UAAI,KAAK,SAAS,UAAU;AAC3B,eAAO,KAAK,gBAAgB,KAAK,gBAAgB;AAAA,MAChD,OAAK;AACN,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,KAAK,IAAC,MAAA;AAAA,IASN;AAAA,EACA;AAAA,EACD,UAAO;AACN,SAAK,KAAI;AAAA,EACT;AAAA,EACD,SAAS;AAAA,IACR,OAAI;AACH,iBAAW,MAAA;AAAA,MAOV,GAAE,EAAE;AAAA,IACL;AAAA;AAAA,IAED,4BAAyB;AAExB,YAAM,QAAQ;AAEd,YAAM,OAAO,MAAM,MAAM,SAAS,CAAC;AAEnC,YAAM,iBAAiB,KAAK;AAE5B,qBAAe,iBAAiB,QAAQ,MAAA;AACvC,aAAK,cAAc;AAAA,MACpB,CAAC;AACD,qBAAe,iBAAiB,QAAQ,MAAA;AACvC,aAAK,cAAc;AAAA,MACpB,CAAC;AAAA,IACD;AAAA,EA8BF;CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3LD,GAAG,gBAAgB,SAAS;"}