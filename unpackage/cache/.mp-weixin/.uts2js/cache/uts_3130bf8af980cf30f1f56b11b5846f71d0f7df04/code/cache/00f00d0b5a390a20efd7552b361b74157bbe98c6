{"code":"import { defineComponent } from \"vue\";\nimport { colorGradient } from '@/uni_modules/uv-ui-tools/libs/function/colorGradient.js';\nimport mpMixin from '@/uni_modules/uv-ui-tools/libs/mixin/mpMixin.js';\nimport mixin from '@/uni_modules/uv-ui-tools/libs/mixin/mixin.js';\nimport props from './props.js';\n/**\n * loading 加载动画\n * @description 警此组件为一个小动画，目前用在uvui的loadmore加载更多和switch开关等组件的正在加载状态场景。\n * @tutorial https://www.uvui.cn/components/loading.html\n * @property {Boolean}\t\t\tshow\t\t\t是否显示组件  (默认 true)\n * @property {String}\t\t\tcolor\t\t\t动画活动区域的颜色，只对 mode = flower 模式有效（默认#909193）\n * @property {String}\t\t\ttextColor\t\t提示文本的颜色（默认#909193）\n * @property {Boolean}\t\t\tvertical\t\t文字和图标是否垂直排列 (默认 false )\n * @property {String}\t\t\tmode\t\t\t模式选择，见官网说明（默认 'circle' ）\n * @property {String | Number}\tsize\t\t\t加载图标的大小，单位px （默认 24 ）\n * @property {String | Number}\ttextSize\t\t文字大小（默认 15 ）\n * @property {String | Number}\ttext\t\t\t文字内容\n * @property {Object}\ttextStyle 文字样式\n * @property {String}\t\t\ttimingFunction\t动画模式 （默认 'ease-in-out' ）\n * @property {String | Number}\tduration\t\t动画执行周期时间（默认 1200）\n * @property {String}\t\t\tinactiveColor\tmode=circle时的暗边颜色\n * @property {Object}\t\t\tcustomStyle\t\t定义需要用到的外部样式\n * @example <uv-loading mode=\"circle\"></uv-loading>\n */\nexport default defineComponent({\n    name: 'uv-loading-icon',\n    mixins: [mpMixin, mixin, props],\n    data() {\n        return {\n            // Array.form可以通过一个伪数组对象创建指定长度的数组\n            // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from\n            array12: Array.from({\n                length: 12\n            }),\n            // 这里需要设置默认值为360，否则在安卓nvue上，会延迟一个duration周期后才执行\n            // 在iOS nvue上，则会一开始默认执行两个周期的动画\n            aniAngel: 360,\n            webviewHide: false,\n            loading: false, // 是否运行中，针对nvue使用\n        };\n    },\n    computed: {\n        // 当为circle类型时，给其另外三边设置一个更轻一些的颜色\n        // 之所以需要这么做的原因是，比如父组件传了color为红色，那么需要另外的三个边为浅红色\n        // 而不能是固定的某一个其他颜色(因为这个固定的颜色可能浅蓝，导致效果没有那么细腻良好)\n        otherBorderColor() {\n            const lightColor = colorGradient(this.color, '#ffffff', 100)[80];\n            if (this.mode === 'circle') {\n                return this.inactiveColor ? this.inactiveColor : lightColor;\n            }\n            else {\n                return 'transparent';\n            }\n        }\n    },\n    watch: {\n        show(n = null) {\n            // nvue中，show为true，且为非loading状态，就重新执行动画模块\n        }\n    },\n    mounted() {\n        this.init();\n    },\n    methods: {\n        init() {\n            setTimeout(() => {\n            }, 20);\n        },\n        // 监听webview的显示与隐藏\n        addEventListenerToWebview() {\n            // webview的堆栈\n            const pages = getCurrentPages();\n            // 当前页面\n            const page = pages[pages.length - 1];\n            // 当前页面的webview实例\n            const currentWebview = page.$getAppWebview();\n            // 监听webview的显示与隐藏，从而停止或者开始动画(为了性能)\n            currentWebview.addEventListener('hide', () => {\n                this.webviewHide = true;\n            });\n            currentWebview.addEventListener('show', () => {\n                this.webviewHide = false;\n            });\n        },\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-loading-icon/components/uv-loading-icon/uv-loading-icon.vue?vue&type=script&lang.uts.js.map","references":["/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/function/colorGradient.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/mixin/mpMixin.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/mixin/mixin.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-loading-icon/components/uv-loading-icon/props.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"uv-loading-icon.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"uv-loading-icon.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC,OAAO,EAAE,aAAa,EAAE,MAAM,0DAA0D,CAAA;AACxF,OAAO,OAAO,MAAM,iDAAiD,CAAA;AACrE,OAAO,KAAK,MAAM,+CAA+C,CAAA;AACjE,OAAO,KAAK,MAAM,YAAY,CAAC;AAI/B;;;;;;;;;;;;;;;;;;GAkBG;AACH,+BAAe;IACd,IAAI,EAAE,iBAAiB;IACvB,MAAM,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC;IAC/B,IAAI;QACH,OAAO;YACN,iCAAiC;YACjC,8FAA8F;YAC9F,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC;gBACnB,MAAM,EAAE,EAAE;aACV,CAAC;YACF,+CAA+C;YAC/C,8BAA8B;YAC9B,QAAQ,EAAE,GAAG;YACb,WAAW,EAAE,KAAK;YAClB,OAAO,EAAE,KAAK,EAAE,iBAAiB;SACjC,CAAA;IACF,CAAC;IACD,QAAQ,EAAE;QACT,gCAAgC;QAChC,8CAA8C;QAC9C,6CAA6C;QAC7C,gBAAgB;YACf,MAAM,UAAU,GAAG,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAA;YAChE,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;gBAC3B,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,UAAU,CAAA;aAC3D;iBAAM;gBACN,OAAO,aAAa,CAAA;aACpB;QACF,CAAC;KACD;IACD,KAAK,EAAE;QACN,IAAI,CAAC,CAAC,OAAA;YACL,yCAAyC;QAQ1C,CAAC;KACD;IACD,OAAO;QACN,IAAI,CAAC,IAAI,EAAE,CAAA;IACZ,CAAC;IACD,OAAO,EAAE;QACR,IAAI;YACH,UAAU,CAAC;YAOX,CAAC,EAAE,EAAE,CAAC,CAAA;QACP,CAAC;QACD,kBAAkB;QAClB,yBAAyB;YACxB,aAAa;YACb,MAAM,KAAK,GAAG,eAAe,EAAE,CAAA;YAC/B,OAAO;YACP,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;YACpC,iBAAiB;YACjB,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,EAAE,CAAA;YAC5C,mCAAmC;YACnC,cAAc,CAAC,gBAAgB,CAAC,MAAM,EAAE;gBACvC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAA;YACxB,CAAC,CAAC,CAAA;YACF,cAAc,CAAC,gBAAgB,CAAC,MAAM,EAAE;gBACvC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAA;YACzB,CAAC,CAAC,CAAA;QACH,CAAC;KA8BD;CACD,EAAA\"}"}
