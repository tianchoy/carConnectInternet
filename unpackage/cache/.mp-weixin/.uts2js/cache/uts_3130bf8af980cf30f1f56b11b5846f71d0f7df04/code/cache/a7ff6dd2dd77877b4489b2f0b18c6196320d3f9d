{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, t as _t, o as _o, e as _e } from \"vue\";\nimport _imports_0 from '/static/back.svg';\nimport _imports_1 from '/static/menu.svg';\nimport _imports_2 from '/static/close.svg';\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'custom-navBar',\n    props: {\n        title: String,\n        showBack: new UTSJSONObject({ type: Boolean, default: true }),\n        backText: new UTSJSONObject({ type: String, default: '' }),\n        showCapsule: new UTSJSONObject({ type: Boolean, default: true }),\n        backgroundColor: new UTSJSONObject({ type: String, default: '#ffffff' }),\n        textColor: new UTSJSONObject({ type: String, default: '#000000' })\n    },\n    emits: ['back', 'capsuleClick'],\n    setup(__props, _a) {\n        var __emit = _a.emit;\n        const props = __props;\n        const emit = __emit;\n        // 动态尺寸数据\n        const statusBarHeight = ref(20);\n        const navBarHeight = ref(44);\n        const menuButtonInfo = ref(new UTSJSONObject({\n            top: 4,\n            right: 10,\n            width: 87,\n            height: 32\n        }));\n        // 初始化尺寸数据\n        const initDimensions = () => {\n            const systemInfo = uni.getSystemInfoSync();\n            statusBarHeight.value = systemInfo.statusBarHeight || 20;\n            try {\n                const menuRect = uni.getMenuButtonBoundingClientRect();\n                if (menuRect) {\n                    menuButtonInfo.value = menuRect;\n                    // 关键计算公式 :cite[2]:cite[7]\n                    const gap = menuRect.top - statusBarHeight.value;\n                    navBarHeight.value = gap * 2 + menuRect.height + 4;\n                }\n            }\n            catch (e) {\n                uni.__f__('warn', 'at components/custom-navBar/custom-navBar.uvue:65', '胶囊按钮信息获取失败', e);\n            }\n        };\n        // 返回按钮处理\n        const handleBack = () => {\n            const pages = getCurrentPages();\n            if (pages.length > 1) {\n                uni.navigateBack();\n            }\n            else {\n                uni.switchTab({ url: '/pages/index/index' });\n            }\n            emit('back');\n        };\n        onMounted(initDimensions);\n        return (_ctx = null, _cache = null) => {\n            const __returned__ = _e(new UTSJSONObject({\n                a: _unref(statusBarHeight) + 'px',\n                b: __props.showBack\n            }), __props.showBack ? _e(new UTSJSONObject({\n                c: _imports_0,\n                d: __props.backText\n            }), __props.backText ? new UTSJSONObject({\n                e: _t(__props.backText)\n            }) : new UTSJSONObject({}), new UTSJSONObject({\n                f: _o(handleBack)\n            })) : new UTSJSONObject({}), new UTSJSONObject({\n                g: _t(__props.title),\n                h: __props.textColor,\n                i: __props.showCapsule\n            }), __props.showCapsule ? new UTSJSONObject({\n                j: _imports_1,\n                k: _o(($event = null) => { return emit('capsuleClick', 'menu'); }),\n                l: _imports_2,\n                m: _o(($event = null) => { return emit('capsuleClick', 'close'); }),\n                n: _unref(menuButtonInfo).right + 'px',\n                o: _unref(menuButtonInfo).top + 'px'\n            }) : new UTSJSONObject({}), new UTSJSONObject({\n                p: _unref(navBarHeight) + 'px',\n                q: __props.backgroundColor\n            }));\n            return __returned__;\n        };\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/carConnectInternet/components/custom-navBar/custom-navBar.uvue?vue&type=script&setup=true&lang.uts.js.map","references":["/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":["uni.getSystemInfoSync","uni.getMenuButtonBoundingClientRect","uni.__f__","uni.navigateBack","uni.switchTab"],"map":"{\"version\":3,\"file\":\"custom-navBar.uvue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"custom-navBar.uvue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
