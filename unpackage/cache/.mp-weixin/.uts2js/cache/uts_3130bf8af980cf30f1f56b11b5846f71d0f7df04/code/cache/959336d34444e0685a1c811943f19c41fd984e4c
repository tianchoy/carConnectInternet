{"code":"import { defineComponent } from \"vue\";\nimport throttle from '@/uni_modules/uv-ui-tools/libs/function/throttle.js';\nimport mpMixin from '@/uni_modules/uv-ui-tools/libs/mixin/mpMixin.js';\nimport mixin from '@/uni_modules/uv-ui-tools/libs/mixin/mixin.js';\nimport button from '@/uni_modules/uv-ui-tools/libs/mixin/button.js';\nimport openType from '@/uni_modules/uv-ui-tools/libs/mixin/openType.js';\nimport props from \"./props.js\";\n/**\n * button 按钮\n * @description Button 按钮\n * @tutorial https://www.uvui.cn/components/button.html\n * @property {Boolean}\t\t\thairline\t\t\t\t是否显示按钮的细边框 (默认 true )\n * @property {String}\t\t\ttype\t\t\t\t\t按钮的预置样式，info，primary，error，warning，success (默认 'info' )\n * @property {String}\t\t\tsize\t\t\t\t\t按钮尺寸，large，normal，mini （默认 normal）\n * @property {String}\t\t\tshape\t\t\t\t\t按钮形状，circle（两边为半圆），square（带圆角） （默认 'square' ）\n * @property {Boolean}\t\t\tplain\t\t\t\t\t按钮是否镂空，背景色透明 （默认 false）\n * @property {Boolean}\t\t\tdisabled\t\t\t\t是否禁用 （默认 false）\n * @property {Boolean}\t\t\tloading\t\t\t\t\t按钮名称前是否带 loading 图标(App-nvue 平台，在 ios 上为雪花，Android上为圆圈) （默认 false）\n * @property {String | Number}\tloadingText\t\t\t\t加载中提示文字\n * @property {String}\t\t\tloadingMode\t\t\t\t加载状态图标类型 （默认 'spinner' ）\n * @property {String | Number}\tloadingSize\t\t\t\t加载图标大小 （默认 15 ）\n * @property {String}\t\t\topenType\t\t\t\t开放能力，具体请看uniapp稳定关于button组件部分说明\n * @property {String}\t\t\tformType\t\t\t\t用于 <form> 组件，点击分别会触发 <form> 组件的 submit/reset 事件\n * @property {String}\t\t\tappParameter\t\t\t打开 APP 时，向 APP 传递的参数，open-type=launchApp时有效 （注：只微信小程序、QQ小程序有效）\n * @property {Boolean}\t\t\thoverStopPropagation\t指定是否阻止本节点的祖先节点出现点击态，微信小程序有效（默认 true ）\n * @property {String}\t\t\tlang\t\t\t\t\t指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文（默认 en ）\n * @property {String}\t\t\tsessionFrom\t\t\t\t会话来源，openType=\"contact\"时有效\n * @property {String}\t\t\tsendMessageTitle\t\t会话内消息卡片标题，openType=\"contact\"时有效\n * @property {String}\t\t\tsendMessagePath\t\t\t会话内消息卡片点击跳转小程序路径，openType=\"contact\"时有效\n * @property {String}\t\t\tsendMessageImg\t\t\t会话内消息卡片图片，openType=\"contact\"时有效\n * @property {Boolean}\t\t\tshowMessageCard\t\t\t是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示\"可能要发送的小程序\"提示，用户点击后可以快速发送小程序消息，openType=\"contact\"时有效（默认false）\n * @property {String}\t\t\tdataName\t\t\t\t额外传参参数，用于小程序的data-xxx属性，通过target.dataset.name获取\n * @property {String | Number}\tthrottleTime\t\t\t节流，一定时间内只能触发一次 （默认 0 )\n * @property {String | Number}\thoverStartTime\t\t\t按住后多久出现点击态，单位毫秒 （默认 0 )\n * @property {String | Number}\thoverStayTime\t\t\t手指松开后点击态保留时间，单位毫秒 （默认 200 )\n * @property {String | Number}\ttext\t\t\t\t\t按钮文字，之所以通过props传入，是因为slot传入的话（注：nvue中无法控制文字的样式）\n * @property {String}\t\t\ticon\t\t\t\t\t按钮图标\n * @property {String}\t\t\ticonColor\t\t\t\t按钮图标颜色\n * @property {String}\t\t\tcolor\t\t\t\t\t按钮颜色，支持传入linear-gradient渐变色\n * @property {Object}\t\t\tcustomStyle\t\t\t\t定义需要用到的外部样式\n * @event {Function}\tclick\t\t\t非禁止并且非加载中，才能点击\n * @event {Function}\tgetphonenumber\topen-type=\"getPhoneNumber\"时有效\n * @event {Function}\tgetuserinfo\t\t用户点击该按钮时，会返回获取到的用户信息，从返回参数的detail中获取到的值同uni.getUserInfo\n * @event {Function}\terror\t\t\t当使用开放能力时，发生错误的回调\n * @event {Function}\topensetting\t\t在打开授权设置页并关闭后回调\n * @event {Function}\tlaunchapp\t\t打开 APP 成功的回调\n * @example <uv-button>月落</uv-button>\n */\nexport default defineComponent({\n    name: \"uv-button\",\n    mixins: [mpMixin, mixin, button, openType, props],\n    emits: ['click'],\n    data() {\n        return {};\n    },\n    computed: {\n        // 生成bem风格的类名\n        bemClass() {\n            // this.bem为一个computed变量，在mixin中\n            if (!this.color) {\n                return this.bem(\"button\", [\"type\", \"shape\", \"size\"], [\"disabled\", \"plain\", \"hairline\"]);\n            }\n            else {\n                // 由于nvue的原因，在有color参数时，不需要传入type，否则会生成type相关的类型，影响最终的样式\n                return this.bem(\"button\", [\"shape\", \"size\"], [\"disabled\", \"plain\", \"hairline\"]);\n            }\n        },\n        loadingColor() {\n            if (this.plain) {\n                // 如果有设置color值，则用color值，否则使用type主题颜色\n                return this.color ? this.color : '#3c9cff';\n            }\n            if (this.type === \"info\") {\n                return \"#c9c9c9\";\n            }\n            return \"rgb(200, 200, 200)\";\n        },\n        iconColorCom() {\n            // 如果是镂空状态，设置了color就用color值，否则使用主题颜色，\n            // uv-icon的color能接受一个主题颜色的值\n            if (this.iconColor)\n                return this.iconColor;\n            if (this.plain) {\n                return this.color ? this.color : this.type;\n            }\n            else {\n                return this.type === \"info\" ? \"#000000\" : \"#ffffff\";\n            }\n        },\n        baseColor() {\n            let style = new UTSJSONObject({});\n            if (this.color) {\n                // 针对自定义了color颜色的情况，镂空状态下，就是用自定义的颜色\n                style.color = this.plain ? this.color : \"white\";\n                if (!this.plain) {\n                    // 非镂空，背景色使用自定义的颜色\n                    style[\"background-color\"] = this.color;\n                }\n                if (this.color.indexOf(\"gradient\") !== -1) {\n                    // 如果自定义的颜色为渐变色，不显示边框，以及通过backgroundImage设置渐变色\n                    // weex文档说明可以写borderWidth的形式，为什么这里需要分开写？\n                    // 因为weex是阿里巴巴为了部门业绩考核而做的你懂的东西，所以需要这么写才有效\n                    style.borderTopWidth = 0;\n                    style.borderRightWidth = 0;\n                    style.borderBottomWidth = 0;\n                    style.borderLeftWidth = 0;\n                    if (!this.plain) {\n                        style.backgroundImage = this.color;\n                    }\n                }\n                else {\n                    // 非渐变色，则设置边框相关的属性\n                    style.borderColor = this.color;\n                    style.borderWidth = \"1px\";\n                    style.borderStyle = \"solid\";\n                }\n            }\n            return style;\n        },\n        // nvue版本按钮的字体不会继承父组件的颜色，需要对每一个text组件进行单独的设置\n        nvueTextStyle() {\n            let style = new UTSJSONObject({});\n            // 针对自定义了color颜色的情况，镂空状态下，就是用自定义的颜色\n            if (this.type === \"info\") {\n                style.color = \"#323233\";\n            }\n            if (this.color) {\n                style.color = this.plain ? this.color : \"white\";\n            }\n            style.fontSize = this.textSize + \"px\";\n            return style;\n        },\n        // 字体大小\n        textSize() {\n            let fontSize = 14, size = this.size;\n            if (size === \"large\")\n                fontSize = 16;\n            if (size === \"normal\")\n                fontSize = 14;\n            if (size === \"small\")\n                fontSize = 12;\n            if (size === \"mini\")\n                fontSize = 10;\n            return fontSize;\n        },\n        // 设置图标大小\n        getIconSize() {\n            const size = this.iconSize ? this.iconSize : this.textSize * 1.35;\n            return this.$uv.addUnit(size);\n        },\n        // 设置外层盒子的宽度，其他样式不需要\n        btnWrapperStyle() {\n            const style = new UTSJSONObject({});\n            const customStyle = this.$uv.addStyle(this.customStyle);\n            if (customStyle.width)\n                style.width = customStyle.width;\n            return style;\n        }\n    },\n    methods: {\n        clickHandler() {\n            // 非禁止并且非加载中，才能点击\n            if (!this.disabled && !this.loading) {\n                // 进行节流控制，每this.throttle毫秒内，只在开始处执行\n                throttle(() => {\n                    this.$emit(\"click\");\n                }, this.throttleTime);\n            }\n        }\n    }\n});\n//# sourceMappingURL=/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-button/components/uv-button/uv-button.vue?vue&type=script&lang.uts.js.map","references":["/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/function/throttle.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/mixin/mpMixin.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/mixin/mixin.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/mixin/button.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-ui-tools/libs/mixin/openType.js","/Users/xyhc/Documents/carConnectInternet/uni_modules/uv-button/components/uv-button/props.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"uv-button.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"uv-button.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACA,OAAO,QAAQ,MAAM,qDAAqD,CAAC;AAC3E,OAAO,OAAO,MAAM,iDAAiD,CAAA;AACrE,OAAO,KAAK,MAAM,+CAA+C,CAAA;AACjE,OAAO,MAAM,MAAM,gDAAgD,CAAA;AACnE,OAAO,QAAQ,MAAM,kDAAkD,CAAA;AACvE,OAAO,KAAK,MAAM,YAAY,CAAC;AAC/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAwCG;AACH,+BAAe;IACb,IAAI,EAAE,WAAW;IAEjB,MAAM,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC;IAKjD,KAAK,EAAE,CAAC,OAAO,CAAC;IAChB,IAAI;QACH,OAAO,EAAE,CAAC;IACX,CAAC;IACD,QAAQ,EAAE;QACT,aAAa;QACb,QAAQ;YACP,gCAAgC;YAChC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBAChB,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,EACvB,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC,EACzB,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;aACpC;iBAAM;gBACN,wDAAwD;gBACxD,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,EACvB,CAAC,OAAO,EAAE,MAAM,CAAC,EACjB,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;aACpC;QACF,CAAC;QACD,YAAY;YACX,IAAI,IAAI,CAAC,KAAK,EAAE;gBACf,oCAAoC;gBACpC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC;aAC3C;YACD,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;gBACzB,OAAO,SAAS,CAAC;aACjB;YACD,OAAO,oBAAoB,CAAC;QAC7B,CAAC;QACD,YAAY;YACX,qCAAqC;YACrC,2BAA2B;YAC3B,IAAI,IAAI,CAAC,SAAS;gBAAE,OAAO,IAAI,CAAC,SAAS,CAAC;YAC1C,IAAI,IAAI,CAAC,KAAK,EAAE;gBACf,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;aAC3C;iBAAM;gBACN,OAAO,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;aACpD;QACF,CAAC;QACD,SAAS;YACR,IAAI,KAAK,qBAAG,EAAE,CAAA,CAAC;YACf,IAAI,IAAI,CAAC,KAAK,EAAE;gBACf,mCAAmC;gBACnC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC;gBAChD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;oBAChB,kBAAkB;oBAClB,KAAK,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;iBACvC;gBACD,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE;oBAC1C,8CAA8C;oBAC9C,wCAAwC;oBACxC,yCAAyC;oBACzC,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC;oBACzB,KAAK,CAAC,gBAAgB,GAAG,CAAC,CAAC;oBAC3B,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAC;oBAC5B,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC;oBAC1B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;wBAChB,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC;qBACnC;iBACD;qBAAM;oBACN,kBAAkB;oBAClB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC/B,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;oBAC1B,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC;iBAC5B;aACD;YACD,OAAO,KAAK,CAAC;QACd,CAAC;QACD,4CAA4C;QAC5C,aAAa;YACZ,IAAI,KAAK,qBAAG,EAAE,CAAA,CAAC;YACf,mCAAmC;YACnC,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;gBACzB,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;aACxB;YACD,IAAI,IAAI,CAAC,KAAK,EAAE;gBACf,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC;aAChD;YACD,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACtC,OAAO,KAAK,CAAC;QACd,CAAC;QACD,OAAO;QACP,QAAQ;YACH,IAAA,QAAQ,GAAG,EAAE,EACd,IAAI,GAAK,IAAI,KAAT,CAAU;YACjB,IAAI,IAAI,KAAK,OAAO;gBAAE,QAAQ,GAAG,EAAE,CAAC;YACpC,IAAI,IAAI,KAAK,QAAQ;gBAAE,QAAQ,GAAG,EAAE,CAAC;YACrC,IAAI,IAAI,KAAK,OAAO;gBAAE,QAAQ,GAAG,EAAE,CAAC;YACpC,IAAI,IAAI,KAAK,MAAM;gBAAE,QAAQ,GAAG,EAAE,CAAC;YACnC,OAAO,QAAQ,CAAC;QACjB,CAAC;QACD,SAAS;QACT,WAAW;YACV,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YAClE,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;QACD,oBAAoB;QACpB,eAAe;YACd,MAAM,KAAK,qBAAG,EAAE,CAAA,CAAC;YACjB,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACxD,IAAG,WAAW,CAAC,KAAK;gBAAE,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YACtD,OAAO,KAAK,CAAC;QACd,CAAC;KACD;IACD,OAAO,EAAE;QACR,YAAY;YACX,iBAAiB;YACjB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACpC,mCAAmC;gBACnC,QAAQ,CAAC;oBACR,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBACrB,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;aACtB;QACF,CAAC;KACD;CACD,EAAA\"}"}
